<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="Every Day in Life Is a First Time">
<meta property="og:type" content="website">
<meta property="og:title" content="Lotp&#39;s Blog">
<meta property="og:url" content="http://blog.lotp.xyz/index.html">
<meta property="og:site_name" content="Lotp&#39;s Blog">
<meta property="og:description" content="Every Day in Life Is a First Time">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Lotp&#39;s Blog">
<meta name="twitter:description" content="Every Day in Life Is a First Time">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>




  <link rel="canonical" href="http://blog.lotp.xyz/"/>

  <title> Lotp's Blog </title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  










  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Lotp's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2020/11/30/Use_Git_rerere_to_Speedup_Your_Merge_Wrokflow/" itemprop="url">
                  Speed Up Your Git Merge Flow With 'git rerere'
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2020-11-30T14:29:00+08:00" content="2020-11-30">
              2020-11-30
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2020/11/30/Use_Git_rerere_to_Speedup_Your_Merge_Wrokflow/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/11/30/Use_Git_rerere_to_Speedup_Your_Merge_Wrokflow/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>TLDR: Tired of manual conflict resolution? Run <code>git config rerere.enabled true</code> to enable the <strong>rerere</strong> feature which will remember conflict resolutions so you don’t have to resolve the same conflict over and over agin.</p>
<hr>
<p>Recently I came across a case of parallel development on two different repos originating from one common code base.<br>Things went well until conflicts started to arise like the follwing picture.<br><img src="/images/2020/rerere/1.png" alt="Initial State"><br>Initially conflicts were resolved manually.<br><img src="/images/2020/rerere/2.png" alt="Manually Reslotion"><br>As time passing by, conflicts started to show up in the same file repetitively and I got bored in resolving the same conflict over and over again.<br>I started to ask myself can I find a better way to eliminate these redundant work.<br><img src="/images/2020/rerere/3.png" alt="Initial State"><br>After some research, I found <strong>git rerere</strong>.<br>Basically it’s a feature built in git which will record the conflict merge results after being turned on so that no human intervention will be required to merge the code when the same conflict emerges again.<br>To use it, all you have to do is just run <code>git config rerere.enabled true</code> to turn it on. After that, all manually code merge would be recorded and reused later when meeting with same conflicts.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2020/05/25/LeetCode-233-Number-of-Digit-One/" itemprop="url">
                  [LeetCode 233, AC] Number of Digit One Done With DP
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2020-05-25T19:39:16+08:00" content="2020-05-25">
              2020-05-25
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2020/05/25/LeetCode-233-Number-of-Digit-One/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/05/25/LeetCode-233-Number-of-Digit-One/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <pre><code>Given an integer n, count the total number of digit 1 appearing in all non-negative integers less than or equal to n.

Example:

Input: 13
Output: 6 
Explanation: Digit 1 occurred in the following numbers: 1, 10, 11, 12, 13.
</code></pre><p>Let’s try to solve <a href="https://leetcode.com/problems/number-of-digit-one/" target="_blank" rel="noopener">this problem</a> by dividing it into smaller quizzes:</p>
<p>For example, to caculate the result for 2954:</p>
<ul>
<li>count(2954)=count(2000)+count(954)</li>
<li>count(954)=count(900)+count(54)</li>
<li>count(54)=count(50)+count(4)</li>
</ul>
<p>Now we got the conclusion that <code>count(2954)=count(2000)+count(900)+count(50)+count(4)</code>, which is leading us to the question of how to get <code>count(i*10^j)</code></p>
<p>To calculate <code>count(i*10^j)</code>, we separate the ‘1’s we are looking for into two groups:</p>
<ul>
<li>1s appearing in the highest digit, like the first ‘1’ in the number 1111.<ul>
<li>For numbers starting with 1, this part is the lower part number plus one. Let’s take 1599 as an example. From 1000 to 1599 we got 599+1=600 ‘1’s at the highest digit.</li>
<li>For numbers not starting with 1, this part is always <code>10^math.floor(log10(number))</code>. Like for 2000, from 1000 to 1999 we got 1000 ‘1’ which is equal to 10^3. </li>
</ul>
</li>
<li>1s appearing in the lower digits, like the last 3 ‘1’s in the number 1111.<br>  The formula to calulate this part is: <code>(highest digit) * count(10^math.floor(log10(number)-1))</code>. Like for 3000, the result is 3*count(999)</li>
</ul>
<p>At this point, the last puzzle we need to solve is to find a way to calculate count(10^n-1). Let’s take a look at some examples:</p>
<ul>
<li>For number ranging from 1-99 we got 1 one.</li>
<li>For number ranging from 1-999 we got 20 ones.</li>
<li>For number ranging from 1-9999 we got 300 ones.</li>
</ul>
<p>After some observations, we can see <code>count(10^n-1)=count(10^(n-1)-1)*10+10^(n-1)</code>. Combining this with an initial case of <code>count(9)=1</code>, we can extrapolate that <code>count(10^n-1)=n*10^(n-1)</code>.</p>
<p>With all these deductions in mind, we can finally solve the original problem with DP.<br>I implemente this idea with the help of stack to avoid recursion and below is the code</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> log10</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countDigitOne</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> n &lt;= <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        ord_0, res, t = ord(<span class="string">'0'</span>), <span class="number">0</span>, [</span><br><span class="line">            (i+<span class="number">1</span>)*<span class="number">10</span>**i <span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">0</span>, int(log10(n)))]</span><br><span class="line">        <span class="keyword">while</span> n:</span><br><span class="line">            te, tem = list(str(n)), int(log10(n))<span class="number">-1</span></span><br><span class="line">            tmp, te[<span class="number">0</span>] = ord(te[<span class="number">0</span>])-ord_0, <span class="string">'0'</span></span><br><span class="line">            n = int(<span class="string">''</span>.join(te))</span><br><span class="line">            <span class="keyword">if</span> tem &gt;= <span class="number">0</span>:</span><br><span class="line">                res += tmp*t[tem]</span><br><span class="line">                res += n+<span class="number">1</span> <span class="keyword">if</span> tmp == <span class="number">1</span> <span class="keyword">else</span> <span class="number">10</span>**(tem+<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                res += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2020/01/17/Reading-Notes-How-Google-Works/" itemprop="url">
                  Reading Notes: How Google Works
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2020-01-17T20:30:00+08:00" content="2020-01-17">
              2020-01-17
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2020/01/17/Reading-Notes-How-Google-Works/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/01/17/Reading-Notes-How-Google-Works/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Definitions"><a href="#Definitions" class="headerlink" title="Definitions"></a>Definitions</h2><ul>
<li><p>Technical insights</p>
<p>A technical insight is a new way of applying technology or design that either drives down the cost or increases the functions and usability of the product by a significant factor.</p>
</li>
<li><p>What is a good product</p>
<p>The best products are still the ones that are based on technical insights, those unique ideas that apply one or more technologies in a new way to solve big problems.</p>
</li>
<li><p>A Successful Product Is The One Fails To Fail</p>
</li>
<li><p>Elevator Pitch</p>
<p>Elevator pitch” is venture capital–speak for “you have thirty seconds to impress me with your business idea.”</p>
<p>Elevator pitch should explain what you are working on, the technical insight that’s driving it, how you are measuring your success (particularly customer benefit), and perhaps how it fits into the big picture.</p>
</li>
<li><p>The 70/20/10 Rule</p>
<p>70 percent of resources dedicated to the core business, 20 percent on emerging, and 10 percent on new.</p>
</li>
<li><p>Jobs attractive to the Smart Creatives</p>
<p>Flying an F-16 at Mach 2 over a boulder-strewn landscape, two meters off the ground. Plus, if you crash it’s just like a video game at the arcade, and we have lots of quarters.”</p>
</li>
<li><p>Hippo(the Highest-Paid Person’s Opinion)</p>
</li>
</ul>
<h2 id="Suggestions-From-Google"><a href="#Suggestions-From-Google" class="headerlink" title="Suggestions From Google"></a>Suggestions From Google</h2><ul>
<li><p>Process Is A Friend To Small Companies But An Enemy To Big Ones</p>
<p>Process is a great thing. It is the art and science of taking something that needs to be done and reducing it to a documented set of steps, often supported by information tools and systems. With process comes scale; you absolutely need process to grow a company profitably.</p>
<p>At some point, though, process starts to take over. It becomes so entrenched that it can trump common sense and cause executives to, as our head of business operations, Kristen Gil, says, “lose muscle memory.” People stop thinking and instead just depend on the process to make decisions for them.</p>
<p>The antidote to these issues is to break your own processes. This usually requires “air cover” from a senior leader in the company, someone who says it’s OK not to follow the rules and has the power and authority to fend off the antibodies who will attack the rule-breaker.</p>
</li>
<li><p>BU(Business Unit) is not a good thing</p>
<p>We believe in staying functionally organized—with separate departments such as engineering, products, finance, and sales reporting directly to the CEO—as long as possible, because organizing around business divisions or product lines can lead to the formation of silos, which usually stifle the free flow of information and people. Having separate P&amp;Ls seems like a good way to measure performance, but it can have the unfortunate side effect of skewing behavior:<br>The leaders of a business unit are motivated to prioritize their unit’s P&amp;L over the company’s.</p>
</li>
<li><p>Googles’ overall strategy</p>
<p>Bet on technical insights that help solve a big problem in a novel way, optimize for scale, not for revenue, and let great products grow the market for everyone.</p>
</li>
<li><p>Hire no incorrect people rather than hiring more correct people</p>
<p>This is why we would rather our hiring process generate more false negatives (people we should have hired but didn’t) than false positives (we shouldn’t have hired, but did).</p>
</li>
<li><p>Checklist for Meeting Organizers</p>
<ul>
<li>Every Meeting need a owner</li>
<li>Every meeting should have a clear purpose</li>
<li>Meeting need a clear time-box</li>
<li>Owners’ responsibilities before the metting are to schedue the time and let all attendances know in advance. After the meeting the owner is expected to sumaarize the decisions or conclusions reached at the metting.</li>
</ul>
</li>
<li>How to End an Argument: <ul>
<li>Say that You are both right</li>
<li>Then, after reassuring the argument’s losers and articulating what needs to be done, the decision-maker must ensure that every loser does one of two things: disagree but commit, or escalate publicly.</li>
</ul>
</li>
</ul>
<h2 id="Mottos"><a href="#Mottos" class="headerlink" title="Mottos"></a>Mottos</h2><ul>
<li><p>Never stop learning</p>
<p>Henry Ford said that “anyone who stops learning is old, whether at twenty or eighty. Anyone who keeps learning stays young. The greatest thing in life is to keep your mind young.”</p>
</li>
<li><p>Incrementalism Leads To Irrelevance</p>
<p>It’s also true that many companies get comfortable doing what they have always done, with a few incremental changes. This kind of incrementalism leads to irrelevance over time, especially in technology, because change tends to be revolutionary not evolutionary.</p>
</li>
<li><p>Googlers also work on the weekend like when doing 20 percent project</p>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/01/20/Reading-Notes-The-Checklist-Manifesto/" itemprop="url">
                  Reading Notes: The Checklist Manifesto
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2019-01-20T16:30:00+08:00" content="2019-01-20">
              2019-01-20
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2019/01/20/Reading-Notes-The-Checklist-Manifesto/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/01/20/Reading-Notes-The-Checklist-Manifesto/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://www.amazon.com/Checklist-Manifesto-How-Things-Right/dp/0312430000" target="_blank" rel="noopener">The Checklist Manifesto</a> is a book from <a href="https://en.wikipedia.org/wiki/Atul_Gawande" target="_blank" rel="noopener">Atul Gawande</a>. I learned the following three points from this book.</p>
<h4 id="All-Tasks-Can-Be-Divided-into-3-Groups"><a href="#All-Tasks-Can-Be-Divided-into-3-Groups" class="headerlink" title="All Tasks Can Be Divided into 3 Groups"></a>All Tasks Can Be Divided into 3 Groups</h4><ul>
<li><p>simple ones:</p>
<p>  Simple problems are ones like baking a cake from a mix. There is a recipe. Sometimes there are a few basic techniques to learn. But once these are mastered, following the recipe brings a high likelihood of success.</p>
</li>
<li><p>complicated ones:</p>
<p>  Ones like launcing a rocket. They can sometimes be broken down into a series of simple problems. Once you learn how to send a rocket to the moon, you can repeat the process with other rockets and perfect it. </p>
</li>
<li><p>complex problems:</p>
<p>Like raising a child. Although raising one child may provide experience, it does not guarantee success with the next child. Expertise is valuable but most certainly not sufficient. Indeed, the next child may require an entirely different approach from the previous one.</p>
</li>
</ul>
<h4 id="How-to-Categorize-Checklists"><a href="#How-to-Categorize-Checklists" class="headerlink" title="How to Categorize Checklists"></a>How to Categorize Checklists</h4><ul>
<li>With a DO-CONFIRM checklist: we perform our jobs from memory and experience, often separately. But then we stop. We pause to run the checklist and confirm that everything that was supposed to be done was done. </li>
<li>With a READ-DO checklist, on the other hand, we carry out the tasks as we check them off it is more like a recipe.</li>
</ul>
<h4 id="What-Makes-a-Good-Checklists"><a href="#What-Makes-a-Good-Checklists" class="headerlink" title="What Makes a Good Checklists"></a>What Makes a Good Checklists</h4><ul>
<li>Five to nine items at most for a single check list.</li>
<li>The wording should be simple and exact</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/08/12/A-Simple-But-Effective-Spaced-Repitition-Algorithm-MS/" itemprop="url">
                  A Simple but Effective Learning Algorithm: MS  Syntax
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2018-08-12T08:56:00+08:00" content="2018-08-12">
              2018-08-12
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2018/08/12/A-Simple-But-Effective-Spaced-Repitition-Algorithm-MS/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/08/12/A-Simple-But-Effective-Spaced-Repitition-Algorithm-MS/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="/images/2018/08/learnFast.jpg" alt="Sample Image Added via Markdown"></p>
<p>Personally I have been using spaced repetition algorithm in my study for many years. There are many different kinds of this algorithm and the one I have used is invented by BlueRaja called <a href="http://www.blueraja.com/blog/477/a-better-spaced-repetition-learning-algorithm-sm2" target="_blank" rel="noopener">SM2+</a>. Based on this algorithm I have written a lib called <a href="https://github.com/lo-tp/sm2-plus" target="_blank" rel="noopener">sm2-plus</a> and I liked it a lot. However, SM2+ has its own problem.</p>
<p>In this post I will show you what problems SM2+ algorithm has and provide a new algorithm named Memory Scheduler that I find quite helpful in my learning.</p>
<h3 id="Problem-of-SM2"><a href="#Problem-of-SM2" class="headerlink" title="Problem of SM2+"></a>Problem of SM2+</h3><ul>
<li>It’s a little bit complex.</li>
<li>It’s not compatible with the forgetting curve theory. </li>
</ul>
<h3 id="Memory-Scheduler-Algorithm"><a href="#Memory-Scheduler-Algorithm" class="headerlink" title="Memory Scheduler Algorithm"></a>Memory Scheduler Algorithm</h3><p>To learn with this algorithm, two arguments have to be fed to it:</p>
<ul>
<li>intervals([int]): intervals between each study session.</li>
<li>scroreToProgressChange([int]): how to update the progress based on the score the user gives when reviewing items</li>
</ul>
<p>For one item we want to learn, store two data:</p>
<ul>
<li>dueDate(int): the next day scheduled to review this item.</li>
<li>progress(int): How many times continuously the user has correctly answered this item.</li>
</ul>
<p>To reivew an item, the user is asked to chose a score based on how confident he is with the item(the larger, the more confident).</p>
<p>The answer is deemed as correct only when the score is equal to the length of scroreToProgressChange, and in this circumstance the nextDute is intervals[progress] days after today.</p>
<p>Otherwise, the answer is deemed as incorrect and the next review is scheduled at tomorrow.</p>
<p>In both cases, progress should be updated in this way: <code>progress+=scroreToProgressChange[score]</code>.</p>
<p>Following is a javascript implementation of this algorithm and I have also published it to npm as <a href="https://www.npmjs.com/package/memory-scheduler" target="_blank" rel="noopener">memory-scheduler</a>. If you are not satisfied with the this implementation, send me a PR at this <a href="https://github.com/lo-tp/memory-scheduler" target="_blank" rel="noopener">repo</a>.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">MS</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(</span><br><span class="line">    intervals = [1, 2, 3, 8, 17],</span><br><span class="line">    scroreToProgressChange = [-3, -1, 1]</span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="keyword">this</span>.intervals = intervals;</span><br><span class="line">    <span class="keyword">this</span>.scroreToProgressChange = scroreToProgressChange;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  get maxProgress() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.intervals.length;</span><br><span class="line">  &#125;</span><br><span class="line">  get correctScore() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.scroreToProgressChange.length - <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  calculate(s, &#123; progress &#125;, now) &#123;</span><br><span class="line">    <span class="keyword">const</span> correct = s === <span class="keyword">this</span>.scroreToProgressChange.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">const</span> newProgress = progress + <span class="keyword">this</span>.scroreToProgressChange[s];</span><br><span class="line">    <span class="keyword">let</span> dueDate = now + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (correct &amp;&amp; progress &lt; <span class="keyword">this</span>.maxProgress) &#123;</span><br><span class="line">      dueDate = now + <span class="keyword">this</span>.intervals[progress];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      dueDate,</span><br><span class="line">      progress: newProgress &lt; <span class="number">0</span> ? <span class="number">0</span> : newProgress</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  getInitialRecord(now) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      progress: <span class="number">0</span>,</span><br><span class="line">      dueDate: now</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>That’s all I want to say about Memory Scheduler algorithm. As you can see, it’s pretty simple to use. I believe with this algorithm, we can learn better in a faster pace.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/05/My-First-Try-at-TDD-How-I-Test-Asynchronous-Code-in-Mocha-With-async-await-Syntax/" itemprop="url">
                  My First Try at TDD: How I Test Asynchronous Code in Mocha With async/await Syntax
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2017-01-05T13:56:47+08:00" content="2017-01-05">
              2017-01-05
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/01/05/My-First-Try-at-TDD-How-I-Test-Asynchronous-Code-in-Mocha-With-async-await-Syntax/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/01/05/My-First-Try-at-TDD-How-I-Test-Asynchronous-Code-in-Mocha-With-async-await-Syntax/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Every body knows that writing unit test is very important during programming.<br>However, it is not an easy job, especially when it comes to <code>asynchronous code</code>.</p>
<p>Initially, callback has to be used to test <code>asynchronous code</code>:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">describe(<span class="string">'User Profile'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  it(<span class="string">'can get user profile'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">done</span>)</span>&#123;</span><br><span class="line">    getProfile(<span class="string">'bulkan'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, result</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(err) &#123;</span><br><span class="line">        done(err)</span><br><span class="line">      &#125;</span><br><span class="line">      assert.equal(result.userName, <span class="string">'bulkan'</span>);</span><br><span class="line">      done();</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>This kind of test could easily turned out to be a [callback hell][ch] when the logic become complex.<br>Thank god, with the advent of <code>promise</code>, testing <code>asynchronous code</code> is not that much depressing now.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">describe(<span class="string">'User Profile'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  it(<span class="string">'can get user profile'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">done</span>)</span>&#123;</span><br><span class="line">    getProfile(<span class="string">'bulkan'</span>)</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">result</span>)</span>&#123;</span><br><span class="line">      assert.equal(result.userName, <span class="string">'bulkan'</span>);</span><br><span class="line">      done();</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">      done(err);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>Actually manually calling <code>done</code> is not necessary any more in newer version of mocha, as mocha takes care of promise itself pretty well.<br>So the above code can be written as:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">describe(<span class="string">'User Profile'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  it(<span class="string">'can get user profile'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> getProfile(<span class="string">'bulkan'</span>)</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">result</span>)</span>&#123;</span><br><span class="line">      assert.equal(result.userName, <span class="string">'bulkan'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>Now this looks good.<br>However, we won’t be satisfied with this, will we?<br>Take a look at how this code could be further improved with <code>async/await</code>.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">describe(<span class="string">'User Profile'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  it(<span class="string">'can get user profile'</span>, <span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> result = <span class="keyword">await</span> getProfile(<span class="string">'bulkan'</span>);</span><br><span class="line">    assert.equal(result.userName, <span class="string">'bulkan'</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>In the above snippet, we are taking advantage of of one lovely feature of Async functions:</p>
<blockquote>
<p>Async functions always return a promise, no matter whether or not await is invoked.<br>The promise, returned by async function, would resolve with whatever the async function returns, or rejects with whatever the async function throws.<br>With the <code>async/await</code>, testing asynchronous code is nearly identical to testing synchronous code.<br>Cheer!!!</p>
</blockquote>
<hr>
<h5 id="Caveat"><a href="#Caveat" class="headerlink" title="Caveat"></a>Caveat</h5><p>Every thing comes at a price.<br>Although it is very trendy now, we still need a transpiler like <code>bable</code> to use <code>async/await</code>.<br>What a pity.<br>[ch]:<a href="http://callbackhell.com/" target="_blank" rel="noopener">http://callbackhell.com/</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/13/LeetCode-417-AC-Pacific-Atlantic-Water-Flow/" itemprop="url">
                  [LeetCode 417, AC] Pacific Atlantic Water Flow
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-12-13T14:22:33+08:00" content="2016-12-13">
              2016-12-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/13/LeetCode-417-AC-Pacific-Atlantic-Water-Flow/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/12/13/LeetCode-417-AC-Pacific-Atlantic-Water-Flow/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Given an m x n matrix of non-negative integers representing the height of each unit cell in a continent, the “Pacific ocean” touches the left and top edges of the matrix and the “Atlantic ocean” touches the right and bottom edges.</p>
<p>Water can only flow in four directions (up, down, left, or right) from a cell to another one with height equal or lower.</p>
<p>Find the list of grid coordinates where water can flow to both the Pacific and Atlantic ocean.</p>
<p><strong>Note:</strong></p>
<ol>
<li>The order of returned grid coordinates does not matter.</li>
<li>Both m and n are less than 150.</li>
</ol>
<h4 id="Example"><a href="#Example" class="headerlink" title="Example:"></a>Example:</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Given the following 5x5 matrix:</span><br><span class="line"></span><br><span class="line">  Pacific ~   ~   ~   ~   ~ </span><br><span class="line">       ~  1   2   2   3  (5) *</span><br><span class="line">       ~  3   2   3  (4) (4) *</span><br><span class="line">       ~  2   4  (5)  3   1  *</span><br><span class="line">       ~ (6) (7)  1   4   5  *</span><br><span class="line">       ~ (5)  1   1   2   4  *</span><br><span class="line">          *   *   *   *   * Atlantic</span><br><span class="line"></span><br><span class="line">Return:</span><br><span class="line"></span><br><span class="line">[[0, 4], [1, 3], [1, 4], [2, 2], [3, 0], [3, 1], [4, 0]] (positions with parentheses in above matrix).</span><br></pre></td></tr></table></figure>
<hr>
<p>If you try to do a DFS or BFS on each grid to see if it can reach both Pacific and Atlantic ocean, you will get a time out error.</p>
<p>Luckily, we can solve this problem if we think in a contrary way.<br>We can deduce which grids can reach Atlantic ocean and which can reach Pacific ocean, then the intersection of the two set is the answer.</p>
<p>In this way, the number of iterations can be greatly reduced to the sum of of the 4 edges’ grids, thus averting the time out error.</p>
<p>It’s straightforward to use two vectors to separately store the connectivities of Atlantic ocean and Pacific ocean, but there is an optimization with which you only need one vector to store the same data.That is bit mask( All credits belong to <a href="https://discuss.leetcode.com/topic/62314/very-concise-c-solution-using-dfs-and-bit-mask" target="_blank" rel="noopener">zyoppy008</a>).<br>Since the data we are trying to maintain are basically two boolean states, two bits in one int are totally enough.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;climits&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">  <span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; pacificAtlantic(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; matrix)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt; ret;</span><br><span class="line">    <span class="built_in">stack</span> &lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt; s1;</span><br><span class="line">    <span class="built_in">stack</span> &lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt; s2;</span><br><span class="line">    <span class="built_in">vector</span> &lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; intermidiate;</span><br><span class="line">    <span class="keyword">int</span> hSize, vSize;</span><br><span class="line">    vSize = matrix.size();</span><br><span class="line">    <span class="keyword">if</span> (vSize)</span><br><span class="line">    &#123;</span><br><span class="line">      hSize = matrix[<span class="number">0</span>].size();</span><br><span class="line">      <span class="keyword">if</span> (hSize)</span><br><span class="line">      &#123;</span><br><span class="line">        intermidiate.resize(vSize, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(hSize, <span class="number">0</span>));</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; vSize; index++)</span><br><span class="line">        &#123;</span><br><span class="line">          s1.push(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(index, <span class="number">0</span>));</span><br><span class="line">          s2.push(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(<span class="number">1</span>, INT_MIN));</span><br><span class="line">          s1.push(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(index, hSize - <span class="number">1</span>));</span><br><span class="line">          s2.push(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(<span class="number">2</span>, INT_MIN));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; hSize; index++)</span><br><span class="line">        &#123;</span><br><span class="line">          s1.push(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(<span class="number">0</span>, index));</span><br><span class="line">          s2.push(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(<span class="number">1</span>, INT_MIN));</span><br><span class="line">          s1.push(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(vSize - <span class="number">1</span>, index));</span><br><span class="line">          s2.push(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(<span class="number">2</span>, INT_MIN));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (!s1.empty())</span><br><span class="line">        &#123;</span><br><span class="line">          pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pos = s1.top(), meta = s2.top();</span><br><span class="line">          <span class="keyword">int</span> vPos = pos.first, hPos = pos.second, previousValue = meta.second, flag = meta.first;</span><br><span class="line">          s1.pop();</span><br><span class="line">          s2.pop();</span><br><span class="line">          <span class="keyword">if</span> (vPos &gt;= <span class="number">0</span> &amp;&amp; vPos &lt; vSize &amp;&amp; hPos &gt;= <span class="number">0</span> &amp;&amp; hPos &lt; hSize &amp;&amp; matrix[vPos][hPos] &gt;= previousValue &amp;&amp;</span><br><span class="line">              (intermidiate[vPos][hPos]&amp;flag) == <span class="number">0</span>)</span><br><span class="line">          &#123;</span><br><span class="line">            intermidiate[vPos][hPos] = intermidiate[vPos][hPos] | flag;</span><br><span class="line">            <span class="keyword">if</span> (intermidiate[vPos][hPos] == <span class="number">3</span>)</span><br><span class="line">            &#123;</span><br><span class="line">              <span class="built_in">cout</span> &lt;&lt; vPos &lt;&lt; <span class="string">' '</span> &lt;&lt; hPos &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">              ret.push_back(pos);</span><br><span class="line">            &#125;</span><br><span class="line">            s1.push(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(vPos - <span class="number">1</span>, hPos));</span><br><span class="line">            s2.push(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(flag, matrix[vPos][hPos]));</span><br><span class="line">            s1.push(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(vPos + <span class="number">1</span>, hPos));</span><br><span class="line">            s2.push(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(flag, matrix[vPos][hPos]));</span><br><span class="line">            s1.push(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(vPos, hPos - <span class="number">1</span>));</span><br><span class="line">            s2.push(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(flag, matrix[vPos][hPos]));</span><br><span class="line">            s1.push(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(vPos, hPos + <span class="number">1</span>));</span><br><span class="line">            s2.push(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(flag, matrix[vPos][hPos]));</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">vector</span> &lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; testData = &#123;&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>&#125;, &#123;<span class="number">3</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>&#125;, &#123;<span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">1</span>&#125;, &#123;<span class="number">6</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">5</span>&#125;, &#123;<span class="number">5</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>&#125;&#125;;</span><br><span class="line">  Solution s;</span><br><span class="line">  s.pacificAtlantic(testData);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/10/LeetCode-455-AC-Assign-Cookies/" itemprop="url">
                  [LeetCode 455, AC] Assign Cookies
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-12-10T01:49:42+08:00" content="2016-12-10">
              2016-12-10
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/10/LeetCode-455-AC-Assign-Cookies/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/12/10/LeetCode-455-AC-Assign-Cookies/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Assume you are an awesome parent and want to give your children some cookies. But, you should give each child at most one cookie. Each child i has a greed factor gi, which is the minimum size of a cookie that the child will be content with; and each cookie j has a size sj. If sj &gt;= gi, we can assign the cookie j to the child i, and the child i will be content. Your goal is to maximize the number of your content children and output the maximum number.</p>
<p><strong>Note:</strong><br>You may assume the greed factor is always positive. </p>
<p>You cannot assign more than one cookie to one child.</p>
<h4 id="Example-1"><a href="#Example-1" class="headerlink" title="Example 1:"></a>Example 1:</h4><p><strong>Input:</strong> [1,2,3], [1,1]</p>
<p><strong>Output:</strong> 1</p>
<p><strong>Explanation:</strong> You have 3 children and 2 cookies. The greed factors of 3 children are 1, 2, 3.<br>And even though you have 2 cookies, since their size is both 1, you could only make the child whose greed factor is 1 content.<br>You need to output 1.</p>
<h4 id="Example-2"><a href="#Example-2" class="headerlink" title="Example 2:"></a>Example 2:</h4><p><strong>Input:</strong> [1,2], [1,2,3]</p>
<p><strong>Output:</strong> 2</p>
<p><strong>Explanation:</strong> You have 2 children and 3 cookies. The greed factors of 2 children are 1, 2.<br>You have 3 cookies and their sizes are big enough to gratify all of the children,<br>You need to output 2.</p>
<hr>
<p>This is a typical greedy problem.</p>
<p>The partial best solution is to find the smallest cookie that could be given to the least greedy child.</p>
<p>Find partial best solutions in repetition until there is no cooky that could be given to the least greedy child or all children receive a cooky.<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">findContentChildren</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; g, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; s)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    sort(g.begin(),g.end());</span><br><span class="line">    sort(s.begin(),s.end());</span><br><span class="line">    <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator child = g.begin();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator cooky = s.begin();</span><br><span class="line">    <span class="keyword">while</span> (child != g.end() &amp;&amp; cooky != s.end())</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">if</span> (*cooky &gt;= *child)</span><br><span class="line">      &#123;</span><br><span class="line">        result += <span class="number">1</span>;</span><br><span class="line">        child ++;</span><br><span class="line">      &#125;</span><br><span class="line">      cooky ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  Solution s = Solution();</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; children(&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;);</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; cookies(&#123;<span class="number">1</span>, <span class="number">1</span>&#125;);</span><br><span class="line">  <span class="built_in">cout</span>&lt;&lt;s.findContentChildren(children, cookies)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">  <span class="built_in">cout</span>&lt;&lt;<span class="string">"*******"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; children1(&#123;<span class="number">1</span>, <span class="number">2</span>&#125;);</span><br><span class="line">  <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; cookies1(&#123;<span class="number">1</span>, <span class="number">2</span>,<span class="number">3</span>&#125;);</span><br><span class="line">  <span class="built_in">cout</span>&lt;&lt;s.findContentChildren(children1, cookies1)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/01/How-to-Use-Postmessage-to-Communicate-with-iframe-in-React/" itemprop="url">
                  How to Use Postmessage to Communicate with iframe in React
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-12-01T06:57:44+08:00" content="2016-12-01">
              2016-12-01
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/01/How-to-Use-Postmessage-to-Communicate-with-iframe-in-React/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/12/01/How-to-Use-Postmessage-to-Communicate-with-iframe-in-React/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>We all know that we should avert the use of iframe, but sometimes, we have no choice but to use it.<br>This article is about how to use postmessage to communicate with an iframe using React.<br>Assumptions were made that you know what is postmessage and how to use it, so if you are not familiar with it, read this this <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage" target="_blank" rel="noopener">introduction to postmessage</a> before moving on.<br>At first I want you to know as we need to run js on websites within and outside the child iframe so this method can only be used when you have administration privilege on both sides.</p>
<p>Let’s see what we can do with this method.</p>
<p><img src="/images/iframePostmessge.gif" alt="what we can do"></p>
<p>As you can see, informations about the scrollTop and height of the child iframe is transfered to the parent component so we can tell whether or not the child iframe is scrolled to top or bottom.</p>
<p>To achieve this, we had to run the following javascript inside the website which is shown inside the iframe.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> scrollTop;</span><br><span class="line">  <span class="keyword">var</span> domain;</span><br><span class="line">  <span class="keyword">var</span> url;</span><br><span class="line">  <span class="keyword">var</span> body;</span><br><span class="line">  <span class="keyword">var</span> target;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">sendHeight</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    target.postMessage(&#123; <span class="attr">url</span>: url, <span class="attr">value</span>: body.scrollHeight, <span class="attr">type</span>: <span class="string">'height'</span> &#125;, domain);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">sendScrollTop</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    scrollTop = body.scrollTop;</span><br><span class="line">    target.postMessage(&#123; <span class="attr">url</span>: url, <span class="attr">value</span>: scrollTop, <span class="attr">type</span>: <span class="string">'scrollTop'</span> &#125;, domain);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  body = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'body'</span>)[<span class="number">0</span>];</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">receiveMessage</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">switch</span> (event.data.type) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">'setScroll'</span>:</span><br><span class="line">        body.scrollTop = event.data.value;</span><br><span class="line">        scrollTop = event.data.value;</span><br><span class="line">        url = event.data.url;</span><br><span class="line">        target = event.source;</span><br><span class="line">        domain = event.origin;</span><br><span class="line">        sendHeight();</span><br><span class="line">        sendScrollTop();</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">'message'</span>, receiveMessage);</span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">'scroll'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (e.target.activeElement === body &amp;&amp; scrollTop !== body.scrollTop) &#123;</span><br><span class="line">      sendScrollTop();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure></p>
<p>Basically, the above code does 3 thing.</p>
<ol>
<li>Set up a handler listening to the incoming message sent from the parent container through postmessage.</li>
<li>Set up a handler listening to the scrolling event and send scrollTop to the parent container at appropriate time.</li>
<li>Send height to the parent container;</li>
</ol>
<p>Now let’s move to the parent side.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component, PropTypes &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">'react-redux'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; setScrollTop, setHeight &#125; <span class="keyword">from</span> <span class="string">'./action'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">container</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.msgHandler = <span class="keyword">this</span>.msgHandler.bind(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">this</span>.send = <span class="keyword">this</span>.send.bind(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">this</span>.componentDidMount = <span class="keyword">this</span>.componentDidMount.bind(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">this</span>.maxScrollTop = <span class="number">10</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  send() &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.container &amp;&amp; <span class="keyword">this</span>.container.contentWindow) &#123;</span><br><span class="line">      <span class="keyword">this</span>.container.contentWindow.postMessage(<span class="keyword">this</span>.data, <span class="string">'*'</span>);</span><br><span class="line">      <span class="keyword">this</span>.container.scrollTop = <span class="number">20</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.received) &#123;</span><br><span class="line">      setTimeout(<span class="keyword">this</span>.send, <span class="number">100</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    <span class="keyword">this</span>.previous = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">this</span>.next = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">this</span>.data = &#123;</span><br><span class="line">      url: <span class="keyword">this</span>.props.content,</span><br><span class="line">      type: <span class="string">'setScroll'</span>,</span><br><span class="line">      value: <span class="keyword">this</span>.props.scrollTop,</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">this</span>.send();</span><br><span class="line">    <span class="keyword">this</span>.reveived = <span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">'message'</span>, <span class="keyword">this</span>.msgHandler);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  msgHandler(e) &#123;</span><br><span class="line">    <span class="keyword">if</span> (e.data.url !== <span class="keyword">this</span>.props.content) &#123;</span><br><span class="line">      <span class="comment">// console.info(e.data.url);</span></span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">switch</span> (e.data.type) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">'height'</span>:</span><br><span class="line">        <span class="keyword">this</span>.maxScrollTop = e.data.value - <span class="keyword">this</span>.container.offsetHeight;</span><br><span class="line">        <span class="keyword">this</span>.received = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">'scrollTop'</span>:</span><br><span class="line">        <span class="keyword">this</span>.props.saveScroll(e.data.value);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div</span><br><span class="line">        className = <span class="string">'group'</span></span><br><span class="line">      &gt;</span><br><span class="line">        &lt;h4 &gt;</span><br><span class="line">          &#123;<span class="string">`Scroll Top:<span class="subst">$&#123;<span class="keyword">this</span>.props.scrollTop&#125;</span>`</span>&#125;</span><br><span class="line">        &lt;<span class="regexp">/h4&gt;</span></span><br><span class="line"><span class="regexp">        &lt;button</span></span><br><span class="line"><span class="regexp">          onClick = &#123;() =&gt; alert('wanna go to previous page?')&#125;</span></span><br><span class="line"><span class="regexp">          disabled=&#123;this.props.scrollTop !== 0&#125;</span></span><br><span class="line"><span class="regexp">        &gt;</span></span><br><span class="line"><span class="regexp">          Previous</span></span><br><span class="line"><span class="regexp">        &lt;/</span>button&gt;</span><br><span class="line">        &lt;iframe</span><br><span class="line">          ref = &#123;e =&gt; &#123;</span><br><span class="line">            <span class="keyword">this</span>.container = e;</span><br><span class="line">          &#125;&#125;</span><br><span class="line"></span><br><span class="line">          src = &#123;<span class="keyword">this</span>.props.content&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;button</span><br><span class="line">          disabled=&#123;<span class="keyword">this</span>.props.scrollTop &lt; <span class="keyword">this</span>.maxScrollTop&#125;</span><br><span class="line">            onClick = &#123;() =&gt; alert(<span class="string">'wanna go to next page?'</span>)&#125;</span><br><span class="line">        &gt;</span><br><span class="line">          Next</span><br><span class="line">        &lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">container.propTypes = &#123;</span><br><span class="line">  scrollTop: PropTypes.number.isRequired,</span><br><span class="line">  saveScroll: PropTypes.func.isRequired,</span><br><span class="line">  content: PropTypes.string.isRequired,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">container.mapStateToProps = <span class="function"><span class="params">state</span> =&gt;</span> (&#123;</span><br><span class="line">  scrollTop: state.scrollTop,</span><br><span class="line">  height: state.height,</span><br><span class="line">  content: <span class="string">'http://localhost:8080/one.html'</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">container.mapDispatchToProps = <span class="function"><span class="params">dispatch</span> =&gt;</span> (&#123;</span><br><span class="line">  saveScroll: <span class="function"><span class="params">num</span> =&gt;</span> &#123;</span><br><span class="line">    dispatch(setScrollTop(<span class="built_in">Math</span>.round(num)));</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  saveHeight: <span class="function"><span class="params">num</span> =&gt;</span> &#123;</span><br><span class="line">    dispatch(setHeight(num));</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect(container.mapStateToProps,</span><br><span class="line">                       container.mapDispatchToProps,</span><br><span class="line">                       container.mapMergeProps)(container);</span><br></pre></td></tr></table></figure></p>
<p>Firstly, <code>send()</code> is continuously invoked to establish connection with the child iframe in <code>componentDidMount</code> until a reply is recieved.<br>Then monitor the scrollTop and height attribute of the child iframe inside the <code>msgHandler</code>.<br>Having known the scrollTop and height, we can tell if the user scrolls to the top or bottom by comparing those two attributes.</p>
<h3 id="What-is-Missing-in-This-Article"><a href="#What-is-Missing-in-This-Article" class="headerlink" title="What is Missing in This Article?"></a>What is Missing in This Article?</h3><p>For safety reasons, we should always check the origin of messages in both the parent and child sides, but to keep the article short, I ignored this part.<strong>(Never do this in your production environment)</strong></p>
<p>If you want to know more about security measures which we should implement when using postmessage, check out this <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage" target="_blank" rel="noopener">document</a>.</p>
<hr>
<p>Full source code were disclosed at this <a href="https://github.com/lo-tp/exampleOfUsingPostmessageInReact" target="_blank" rel="noopener">repo</a>, play with it if you are interested.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/26/Leetcode-126-Word-Ladder-II/" itemprop="url">
                  [LeetCode 126, TLE] Word Ladder II
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-11-26T09:39:16+08:00" content="2016-11-26">
              2016-11-26
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/11/26/Leetcode-126-Word-Ladder-II/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/11/26/Leetcode-126-Word-Ladder-II/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>If you come here for a solution to the problem, you are in a wrong place.<br>Because <strong>my code for this quiz wasn’t accepted yet</strong> and the purpose of this post is to make a summary about what I have learnt about BFS from doing this exercise.<br>I will share my code at the end of this post and any ideas on where my code is wrong would be greatly appreciated.</p>
<h5 id="When-Should-We-Use-BFS"><a href="#When-Should-We-Use-BFS" class="headerlink" title="When Should We Use BFS"></a>When Should We Use BFS</h5><p>When the target is to find the shortest path,BFS is a good choice.<br>If you do not have to find all the shortest paths, then you can stop whenever the first path is found.<br>Otherwise you would have to wait until all the nodes from current layer are processed.</p>
<h5 id="How-to-Implement-BFS"><a href="#How-to-Implement-BFS" class="headerlink" title="How to Implement BFS"></a>How to Implement BFS</h5><p>Use a queue to store the tree, and take advantage of the FIFO characteristic of queue to implement BFS.</p>
<h5 id="Optimizations-You-May-Want-To-Use-With-BFS"><a href="#Optimizations-You-May-Want-To-Use-With-BFS" class="headerlink" title="Optimizations You May Want To Use With BFS"></a>Optimizations You May Want To Use With BFS</h5><ol>
<li>Use <a href="https://www.google.com.au/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=3&amp;ved=0ahUKEwiOpK-Fl8bQAhXMlJQKHeK9ARUQFggiMAI&amp;url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FAdjacency_matrix&amp;usg=AFQjCNGxQVlDVOI2_pmf2ywMgi_OSGVlCg&amp;bvm=bv.139782543,d.dGo&amp;cad=rja" target="_blank" rel="noopener">adjacency matrix</a> to store the relationships between nodes so you only has to do this calculation once.</li>
<li>Save the length of the first path you found, whenever the depth of another path is larger than it, you can safely ignore that path.</li>
<li>Save all the nodes of current layer and remove them when depth increasing to improve efficiency of further searches.</li>
</ol>
<h5 id="A-Mistake-You-May-Make-When-Using-BFS"><a href="#A-Mistake-You-May-Make-When-Using-BFS" class="headerlink" title="A Mistake You May Make When Using BFS"></a>A Mistake You May Make When Using BFS</h5><p>Possibility exists that you may include paths that are longer than the shortest ones in your result set so do a filter to get rid of them.<br>Luckily, you only need to take care of this when you are required to find all the shortest paths.</p>
<h5 id="Lessons-I-Have-Learnt-about-Javascript"><a href="#Lessons-I-Have-Learnt-about-Javascript" class="headerlink" title="Lessons I Have Learnt about Javascript"></a>Lessons I Have Learnt about Javascript</h5><ol>
<li><p>The Right Way to Check the Existence of an Element Within an Array<br>I used <code>!array.findIndex(element !== target)</code> to check if target is not in array , but this was wrong when target is the first element of array.<br>The right way is to use <code>array.findIndex(element !== target)===undefined</code>.</p>
</li>
<li><p>A Fast Way to Get the Last Element of an Array<br><code>array.slice(-1)[0]</code>.</p>
</li>
</ol>
<hr>
<p>Here comes the code, I have no idea which part is wrong…lol.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Queue</span>(<span class="params">first</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.queue = [&#123;</span><br><span class="line">    path: [<span class="number">0</span>],</span><br><span class="line">    word: first,</span><br><span class="line">  &#125;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Queue.prototype.enque = <span class="function"><span class="keyword">function</span> (<span class="params">elements</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.queue = <span class="keyword">this</span>.queue.concat(elements);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Queue.prototype.dequeue = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.queue.pop();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> getDifferenceNum = <span class="function">(<span class="params">source, target</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> ret = source.filter(<span class="function">(<span class="params">s, i</span>) =&gt;</span> s !== target[i]).length;</span><br><span class="line">  <span class="keyword">return</span> ret;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Test</span>(<span class="params">begin, end, list</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.results = [];</span><br><span class="line">  <span class="keyword">this</span>.list = [begin, ...list];</span><br><span class="line">  <span class="keyword">this</span>.list = <span class="keyword">this</span>.list.map(<span class="function"><span class="params">s</span> =&gt;</span> s.split(<span class="string">''</span>));</span><br><span class="line">  <span class="keyword">this</span>.end = end.split(<span class="string">''</span>);</span><br><span class="line">  <span class="keyword">this</span>.queue = <span class="keyword">new</span> Queue(begin.split(<span class="string">''</span>));</span><br><span class="line">  <span class="keyword">this</span>.deep = <span class="built_in">Number</span>.MAX_SAFE_INTEGER;</span><br><span class="line">  <span class="keyword">this</span>.removeRepitition();</span><br><span class="line">  <span class="keyword">this</span>.makeAdjacencyMatrix();</span><br><span class="line">  <span class="keyword">this</span>.currentLevel = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">this</span>.currentLevelElements = [];</span><br><span class="line">  <span class="keyword">this</span>.usedElements = [];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Test.prototype.makeAdjacencyMatrix = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> length = <span class="keyword">this</span>.list.length;</span><br><span class="line">  <span class="keyword">this</span>.adjacency = [];</span><br><span class="line">  <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (index &lt; length) &#123;</span><br><span class="line">    <span class="keyword">this</span>.adjacency[index] = [];</span><br><span class="line">    index += <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  index = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (index &lt; length) &#123;</span><br><span class="line">    <span class="keyword">let</span> innerIndex = index + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (innerIndex &lt; length) &#123;</span><br><span class="line">      <span class="keyword">if</span> (getDifferenceNum(<span class="keyword">this</span>.list[index], <span class="keyword">this</span>.list[innerIndex]) === <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="comment">// making use of the symmetry of the adjacency matrix</span></span><br><span class="line">        <span class="keyword">this</span>.adjacency[index].push(innerIndex);</span><br><span class="line">        <span class="keyword">this</span>.adjacency[innerIndex].push(index);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      innerIndex += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    index += <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Test.prototype.removeRepitition = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> hash = &#123;&#125;;</span><br><span class="line">  <span class="keyword">const</span> newList = [];</span><br><span class="line">  <span class="keyword">this</span>.list.forEach(<span class="function"><span class="params">l</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!hash[l]) &#123;</span><br><span class="line">      hash[l] = <span class="literal">true</span>;</span><br><span class="line">      newList.push(l);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">this</span>.list = newList;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Test.prototype.findChildren = <span class="function"><span class="keyword">function</span> (<span class="params">parent</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> currentIndex = parent.path.slice(<span class="number">-1</span>)[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">if</span> (parent.path.length &gt; <span class="keyword">this</span>.currentLevel) &#123;</span><br><span class="line">    <span class="keyword">this</span>.usedElements = <span class="keyword">this</span>.usedElements.concat(<span class="keyword">this</span>.currentLevelElements);</span><br><span class="line">    <span class="keyword">this</span>.currentLevelElements = [currentIndex];</span><br><span class="line">    <span class="keyword">this</span>.currentLevel = parent.path.length;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.currentLevelElements.push(currentIndex);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> ret = <span class="keyword">this</span>.adjacency[currentIndex].filter(<span class="function"><span class="params">l</span> =&gt;</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">return</span> parent.path.find(<span class="function"><span class="params">p</span> =&gt;</span> p === l) === <span class="literal">undefined</span></span><br><span class="line">        &amp;&amp; <span class="keyword">this</span>.usedElements.find(<span class="function"><span class="params">p</span> =&gt;</span> p === l) === <span class="literal">undefined</span>;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ret.map(<span class="function"><span class="params">r</span> =&gt;</span> (</span><br><span class="line">    &#123;</span><br><span class="line">      word: <span class="keyword">this</span>.list[r],</span><br><span class="line">      path: [...parent.path, r],</span><br><span class="line">    &#125;</span><br><span class="line">    ));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Test.prototype.findResults = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> current = <span class="keyword">this</span>.queue.dequeue();</span><br><span class="line">  <span class="keyword">while</span> (current) &#123;</span><br><span class="line">    <span class="keyword">if</span> (current) &#123;</span><br><span class="line">      <span class="keyword">if</span> (getDifferenceNum(current.word, <span class="keyword">this</span>.end) === <span class="number">1</span></span><br><span class="line">          &amp;&amp; current.path.length &lt;= <span class="keyword">this</span>.deep) &#123;</span><br><span class="line">        <span class="keyword">this</span>.deep = current.path.length;</span><br><span class="line">        <span class="keyword">this</span>.results.push(current.path);</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (current.path.length &lt; <span class="keyword">this</span>.deep) &#123;</span><br><span class="line">        <span class="keyword">const</span> children = <span class="keyword">this</span>.findChildren(current);</span><br><span class="line">        <span class="keyword">this</span>.queue.enque(children);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    current = <span class="keyword">this</span>.queue.dequeue();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Test.prototype.filterResults = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> minLength = <span class="built_in">Number</span>.MAX_SAFE_INTEGER;</span><br><span class="line">  <span class="keyword">this</span>.results.forEach(<span class="function"><span class="params">r</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (r.length &lt; minLength) &#123;</span><br><span class="line">      minLength = r.length;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">this</span>.results = <span class="keyword">this</span>.results.filter(<span class="function"><span class="params">r</span> =&gt;</span> r.length &lt;= minLength);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Test.prototype.convertResults = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.results = <span class="keyword">this</span>.results.map(<span class="function"><span class="params">r</span> =&gt;</span> r.map(<span class="function"><span class="params">l</span> =&gt;</span> <span class="keyword">this</span>.list[l]));</span><br><span class="line">  <span class="keyword">this</span>.results.forEach(<span class="function"><span class="params">r</span> =&gt;</span> r.push(<span class="keyword">this</span>.end.join(<span class="string">''</span>)));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> findLadders = <span class="function"><span class="keyword">function</span> (<span class="params">beginWord, endWord, wordList</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> tem = <span class="keyword">new</span> Test(beginWord, endWord, wordList);</span><br><span class="line">  tem.findResults();</span><br><span class="line">  tem.filterResults();</span><br><span class="line">  tem.list = tem.list.map(<span class="function"><span class="params">t</span> =&gt;</span> t.join(<span class="string">''</span>));</span><br><span class="line">  tem.convertResults();</span><br><span class="line">  <span class="keyword">return</span> tem.results;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/portrait.svg"
               alt="lotp" />
          <p class="site-author-name" itemprop="name">lotp</p>
          <p class="site-description motion-element" itemprop="description">Every Day in Life Is a First Time</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">14</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">22</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/lo-tp" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  Github
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lotp</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'blog-lotp-xyz';
      var disqus_identifier = 'index.html';
      var disqus_title = "";
      var disqus_url = '';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
    </script>
  




  
  

  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  </script>
  <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="custom_mathjax_source">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->


  

  

</body>
</html>
